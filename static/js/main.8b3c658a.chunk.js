(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(31)},23:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(12),o=n.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(7),l=n.n(i),c=(n(23),n(2)),u=n(3),d=n(5),m=n(4),p=n(6),f=(n(25),n(29),function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.isSignedIn?"Sign Out":"Sign In";return s.a.createElement("div",{className:"container header"},s.a.createElement("h1",null,"To-Do List"),s.a.createElement("button",{className:"btn-blue",onClick:this.props.signInOut},e))}}]),t}(a.Component)),h=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).inputElement=s.a.createRef(),n.addTask=function(e){e.preventDefault(),n.props.addTask(n.inputElement.current.value),n.inputElement.current.value=""},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.inputElement.current.focus()}},{key:"render",value:function(){return s.a.createElement("div",{className:"container task-options"},s.a.createElement("div",null,s.a.createElement("form",null,s.a.createElement("input",{type:"text",ref:this.inputElement}),s.a.createElement("button",{type:"submit",className:"btn-green round",onClick:this.addTask},"+")),s.a.createElement("button",{className:"btn-pink",onClick:this.props.clear},"Clear")))}}]),t}(a.Component),g=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).hoveredElement=null,n.fromPos=null,n.toPos=null,n.collapsibleContentRef=s.a.createRef(),n.toggleCompleted=function(){var e=n.state.showCompleted;n.setState({showCompleted:!e}),n.collapsibleContentRef.current.style.maxHeight?n.collapsibleContentRef.current.style.maxHeight=null:n.collapsibleContentRef.current.style.maxHeight=n.collapsibleContentRef.current.scrollHeight+"px"},n.handleDragStart=function(e){n.fromPos=e.target.getAttribute("position"),e.dataTransfer.effectAllowed="move"},n.handleDragOver=function(e){e.dataTransfer.dropEffect="move"},n.handleDragEnter=function(e){var t=e.target.getAttribute("position");null!==t&&(n.overElement&&n.overElement.classList.remove("dragging"),n.overElement=e.target,n.overElement.classList.add("dragging"),n.toPos=t,n.props.reorderTasks(n.fromPos,n.toPos),n.fromPos=t)},n.handleDragEnd=function(e){n.overElement&&n.overElement.classList.remove("dragging")},n.state={showCompleted:!1},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.tasks,n=[],a=[],r=function(r){var o=t[r];o.isDone?n.push(s.a.createElement("div",{className:"task",key:r},s.a.createElement("div",{className:"icon done",onClick:function(){return e.props.toggleDone(r)}}),s.a.createElement("p",null,o.name),s.a.createElement("div",{className:"icon trash",onClick:function(){return e.props.deleteTask(r)}}))):a.push(s.a.createElement("div",{className:"task",key:r,position:r,onDragStart:e.handleDragStart,onDragEnter:e.handleDragEnter,onDragOver:e.handleDragOver,onDragEnd:e.handleDragEnd,draggable:"true"},s.a.createElement("div",{className:"icon not-done",onClick:function(){return e.props.toggleDone(r)}}),s.a.createElement("p",null,o.name),s.a.createElement("div",{className:"icon trash",onClick:function(){return e.props.deleteTask(r)}})))};for(var o in t)r(o);return 0!==n.length?s.a.createElement("div",{className:"container task-list"},s.a.createElement("div",null,a),s.a.createElement("button",{className:"collapsible",onClick:this.toggleCompleted},"Completed"),s.a.createElement("div",{className:"collapsible-content",ref:this.collapsibleContentRef},n)):s.a.createElement("div",{className:"container task-list"},s.a.createElement("div",null,a))}}]),t}(a.Component),v=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).signInOut=function(){if(""===n.state.uid){var e=new l.a.auth.GoogleAuthProvider;l.a.auth().signInWithPopup(e).catch(function(e){console.error(e)})}else l.a.auth().signOut().catch(function(e){console.error(e)})},n.addTask=function(e){n.state.tasksRef.push().set({name:e,isDone:!1})},n.clear=function(){n.state.tasksRef.remove()},n.toggleDone=function(e){n.state.tasksRef.child(e).child("isDone").set(!n.state.tasks[e].isDone)},n.deleteTask=function(e){n.state.tasksRef.child(e).remove()},n.reorderTasks=function(e,t){n.state.tasksRef.child(t).set(n.state.tasks[e]),n.state.tasksRef.child(e).set(n.state.tasks[t])},n.state={uid:"",tasksRef:null,tasks:{}},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;l.a.auth().onAuthStateChanged(function(t){if(t){e.setState({uid:t.uid});var n=l.a.database().ref().child("users").child(e.state.uid);e.setState({tasksRef:n}),e.state.tasksRef.on("value",function(t){e.setState({tasks:t.val()})})}else e.setState({uid:"",tasksRef:null,tasks:{}})})}},{key:"render",value:function(){return""!==this.state.uid?s.a.createElement("div",null,s.a.createElement(f,{signInOut:this.signInOut,isSignedIn:!0}),s.a.createElement(h,{addTask:this.addTask,clear:this.clear}),s.a.createElement(g,{tasks:this.state.tasks,toggleDone:this.toggleDone,deleteTask:this.deleteTask,reorderTasks:this.reorderTasks})):s.a.createElement("div",null,s.a.createElement(f,{signInOut:this.signInOut,isSignedIn:!1}))}}]),t}(a.Component);l.a.initializeApp({apiKey:"AIzaSyAQF-rTPPF46aNuqiWIR4c-xWdWI8zx8VA",authDomain:"productivity-app-f8175.firebaseapp.com",databaseURL:"https://productivity-app-f8175.firebaseio.com",projectId:"productivity-app-f8175",storageBucket:"productivity-app-f8175.appspot.com",messagingSenderId:"990382624221"}),o.a.render(s.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,2,1]]]);
//# sourceMappingURL=main.8b3c658a.chunk.js.map